<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="Api.css">
    <title>Document</title>
</head>
<body>
    <h1>API</h1>
    <!-- <div id="product-list"></div> -->
    <div id="users-info"></div>

    <script>
        //fetch: it is used to make https requests to a server
        // fetch("https://fakestoreapi.com/products")
        // .then((response)=> response.json())
        // .then((data)=> console.log(data))
        // .catch((error) => console.error(error));

        //Asynchronous functions(async/await): it is the general way of calling functions
        //step 1: create a function
        // step 2: create try and catch block
        //step 3: catch your error
        //step 4: fetch your Api
        //step 5: convert response to json 
        //stepw: write your async and await functions
        //step 7: call your function
        //step 8: consume your API

    //  async function getproducts(){
    //         try{
    //             const response = await fetch("https://fakestoreapi.com/products");
    //             const products = await response.json();
    //              console.log(products);

    //             const productList = document.querySelector("#product-list");

    //          products.forEach((product) => {
    //             const productCard = document.createElement("div");
    //             productCard.className = "product-card";
    //             productCard.innerHTML = `
    //                 <img src="${product.image}" alt="${product.title}" style="width: 100px; height: 100px;">
    //                 <h2>${product.title}</h2> 
    //                 <p>${product.description}</p>
    //                 <p>$${product.price}</p>`;
    //             productList.appendChild(productCard);
    //          });

    //         }catch(error){
    //             console.error("Error", error);
    //         }
    //     }
    //     getproducts();

async function getUsers(){
    try{
       const response = await fetch('https://dummyjson.com/users');
       const users = await response.json();

        const userData = users.users; // Access the 'users' array from the response

       const usersInfo = document.querySelector("#users-info");
       userData.forEach((user) => {
        const userCard = document.createElement("div")
        userCard.className = "user-card"
        userCard.innerHTML = `
        <img src="${user.image}" alt="${user.firstName} ${user.lastName}" style="width: 100px; height: 100px;">
        <p>User-ID:${user.id}</p>
        <p>Firstname:${user.firstName}</p>
        <p>Latname:${user.lastName}</p>
        <p>Maidenname:${user.maidenName}</p>
        <p>Age:${user.age} years old</p>
        <p>Gender:${user.gender}</p>
        <p>${user.email}</p>
        <p>Phone:${user.phone}</p>
        <p>Usename:${user.username}</p>
        <p>Password:${user.password}</p>
        <p>Birthday:${user.birthDate}</p>
        <p>Hair: ${user.hair.color}, ${user.hair.type}</p>`;

        usersInfo.appendChild(userCard);
       });
    }catch(error){
        console.error("Error", error);
    }
}
 getUsers();



    // async function getPosts(){
    //     try{
    //         const response = await fetch("https://dummyjson.com/posts");
    //         const posts = await response.json();
    //         console.log(posts);
    //     } catch(error){
    //         console.error("Error" , error);
    //     }
    // }

    // getPosts();
    </script>
</body>
</html>